(this.webpackJsonppresentsclient=this.webpackJsonppresentsclient||[]).push([[0],{187:function(e,t,n){e.exports=n(356)},192:function(e,t,n){},236:function(e,t){},356:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(14),c=n.n(s),o=n(50),u=(n(192),n(15)),i=n(16),l=n(19),p=n(17),d=n(20),h=n(46),m=n(24),g=n(3),E=n(18),f="USER_LOGIN_REQUEST",R="USER_LOGIN_SUCCESS",b="USER_LOGIN_FAIL",y="USER_LOGOUT_REQUEST",v="USER_LOGOUT_SUCCESS",O="AUTO_LOGOUT_REQUEST",S="AUTO_LOGOUT_SUCCESS",C="USER_LOAD_FAIL",U="USER_LOAD_REQUEST",j="USER_LOAD_SUCCESS",_="CHECK_LOGGED_IN",L="CHECK_LOGGED_IN_SUCCESS",T="CHECK_LOGGED_IN_FAIL",k=function(e){return{type:L,payload:e}},x=function(e){return{type:T,payload:e}},I=function(e){return{type:R,payload:e}},w=function(e){return{type:b,payload:e}},A=function(){return{type:U}},D=function(e){return{type:j,payload:e}},P=function(e){return{type:C,payload:e}},N=function(){return{type:v}},F=function(e){return{type:O,payload:e}},q=function(){return{type:S}},G=n(386),Q=n(385),W=n(9),M=n(10),V=(n(36),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:""}},n.handleChange=function(e){var t=e.target;n.setState({data:Object(g.a)({},n.state.data,Object(m.a)({},t.name,t.value))})},n.handleForgotPassword=function(){n.props.history.push("/forgotPasswordPage")},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.LoggedIn&&this.props.history.push("/userPage")}},{key:"componentDidUpdate",value:function(){this.props.LoggedIn&&this.props.history.push("/userPage")}},{key:"submit",value:function(e){e.preventDefault();var t=this.state.data;this.props.userLoginRequest(t)}},{key:"renderInput",value:function(e){var t=this.props;return r.a.createElement(G.a,{className:t.textField,autoFocus:!0,name:e,label:e,autoComplete:"new-password",value:this.state.data[e],onChange:this.handleChange,required:!0})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.loadLogin;return r.a.createElement(a.Fragment,null,n&&r.a.createElement(a.Fragment,null,r.a.createElement(M.ToastContainer,null),r.a.createElement("form",{noValidate:!0,className:t.container,onSubmit:this.submit.bind(this),autoComplete:"new-password"},r.a.createElement("div",null,this.renderInput("email")),r.a.createElement("div",null,this.renderInput("password")),r.a.createElement(Q.a,{type:"submit",variant:"outlined"},"Login")),r.a.createElement(Q.a,{type:"button",variant:"outlined",onClick:this.handleForgotPassword},"forgot password")))}}]),t}(a.Component)),B=Object(E.b)((function(e){return{loadLogin:e.userReducer.loadLogin,LoggedIn:e.userReducer.LoggedIn}}),(function(e){return{userLoginRequest:function(t){return e(function(e){return{type:f,payload:e}}(t))}}}))(Object(W.a)((function(){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:100,marginRight:100,width:200},menu:{width:200}}}))(V)),K=function(e){return{type:"GET_USERS_SUCCESS",payload:e}},H=function(e){return{type:"GET_USERS_FAIL",payload:e}},J=function(){return{type:"DELETE_USER_SUCCESS"}},$=function(e){return{type:"DELETE_USER_FAIL",payload:e}},z=function(e){return{type:"REGISTER_USER_SUCCESS",payload:{user:e}}},X=function(e){return{type:"REGISTER_USER_FAIL",payload:e}},Y=function(){return{type:"UPDATE_USER_SUCCESS"}},Z=function(e){return{type:"UPDATE_USER_FAIL",payload:e}},ee=function(e){return{type:"LOAD_UPDATE_FORM",payload:{user:e}}},te=n(388),ne=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleRegister=function(){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?(n.props.loadRegisterForm(),n.props.history.push("/registerPage")):n.props.autoLogoutRequest(n.props.lex)},n.handleUpdate=function(e){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?(n.props.loadUpdateForm(e),n.props.history.push("/updatePage")):n.props.autoLogoutRequest(n.props.lex)},n.handleDelete=function(e){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?n.props.deleteUserRequest(e):n.props.autoLogoutRequest(n.props.lex)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===this.props.session?(this.props.userLoadRequest(),this.props.getUsersRequest()):this.props.autoLogoutRequest(this.props.lex)}},{key:"componentDidUpdate",value:function(){this.props.LoggedIn||(this.props.autoLogoutRequest(this.props.lex),this.props.history.push("/loginPage")),this.props.checkIfAdmin&&(this.props.isAdmin||this.props.history.push("/userPage")),this.props.deleteUserSuccess&&(this.props.getUsersRequest(),this.props.setDeleteProps())}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAdmin,s=t.users,c=t.LoggedIn;return r.a.createElement(a.Fragment,null,r.a.createElement(M.ToastContainer,null),r.a.createElement(Q.a,{onClick:this.handleRegister},"add user"),r.a.createElement(te.a,{component:o.b,to:"/userPage"},"my user page"),r.a.createElement("table",null,r.a.createElement("tbody",null,n&&c&&s.map((function(t){return r.a.createElement("tr",{className:"col col-lg-4 grid-wrapper",key:t._id},r.a.createElement("td",null," ",t.email),r.a.createElement("td",null," ",t._id),r.a.createElement("td",null,r.a.createElement(Q.a,{onClick:function(){return e.handleDelete(t._id)}},"delete")),r.a.createElement("td",null,r.a.createElement(Q.a,{onClick:function(){return e.handleUpdate(t)}},"update")))})))))}}]),t}(a.Component),ae=Object(E.b)((function(e){return{session:e.userReducer.session,lex:e.userReducer.lex,users:e.getUsersReducer.users,isAdmin:e.getUsersReducer.isAdmin,checkIfAdmin:e.getUsersReducer.checkIfAdmin,LoggedIn:e.userReducer.LoggedIn,user:e.userReducer.user,deleteUserSuccess:e.deleteUserReducer.deleteUserSuccess}}),(function(e){return{userLoadRequest:function(){return e(A())},autoLogoutRequest:function(t){return e(F(t))},getUsersRequest:function(){return e({type:"GET_USERS_REQUEST"})},deleteUserRequest:function(t){return e({type:"DELETE_USER_REQUEST",payload:t})},loadUpdateForm:function(t){return e(ee(t))},setDeleteProps:function(){return e({type:"SET_DELETE_PROPS"})},loadRegisterForm:function(){return e({type:"LOAD_REGISTER_FORM"})}}}))(Object(W.a)((function(){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:100,marginRight:100,width:200},menu:{width:200}}}))(ne)),re=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:{name:"",email:"",password:"",storeName:"",address:"",licenceNumber:"",ipAdrress:""}},n.handleChange=function(e){var t=e.target;n.setState({data:Object(g.a)({},n.state.data,Object(m.a)({},t.name,t.value))})},n.submit=function(e){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?(n.props.registerUserRequest(n.state.data),e.preventDefault()):(n.props.autoLogoutRequest(n.props.lex),n.props.history.push("/loginPage"))},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===this.props.session?this.props.userLoadRequest():(this.props.autoLogoutRequest(this.props.lex),this.props.history.push("/loginPage"))}},{key:"componentDidUpdate",value:function(){this.props.LoggedIn||(this.props.autoLogoutRequest(this.props.lex),this.props.history.push("/loginPage")),this.props.checkIfAdmin&&(this.props.isAdmin||this.props.history.push("/userPage")),this.props.registerUserSuccess&&this.props.history.push("/adminPage")}},{key:"renderInput",value:function(e){var t=this.props;return r.a.createElement(G.a,{className:t.textField,autoFocus:!0,name:e,label:e,type:"text",autoComplete:"off",value:this.state.data[e],onChange:this.handleChange,fullWidth:!0,required:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,s=t.LoggedIn;return r.a.createElement(a.Fragment,null,s&&r.a.createElement(a.Fragment,null,r.a.createElement(M.ToastContainer,null),r.a.createElement("form",{className:n.container,onSubmit:this.submit.bind(this)},this.renderInput("name"),this.renderInput("email"),this.renderInput("password"),this.renderInput("storeName"),this.renderInput("address"),this.renderInput("licenceNumber"),this.renderInput("ipAdrress"),r.a.createElement(Q.a,{type:"submit",color:"primary",variant:"outlined"},"Register"),r.a.createElement(Q.a,{type:"button",color:"primary",variant:"outlined",onClick:function(){e.props.history.push("/adminPage")}},"Cancel"))))}}]),t}(a.Component),se=Object(E.b)((function(e){return{session:e.userReducer.session,lex:e.userReducer.lex,isAdmin:e.getUsersReducer.isAdmin,checkIfAdmin:e.getUsersReducer.checkIfAdmin,LoggedIn:e.userReducer.LoggedIn,user:e.userReducer.user,registerUserSuccess:e.registerReducer.registerUserSuccess}}),(function(e){return{userLoadRequest:function(){return e(A())},autoLogoutRequest:function(t){return e(F(t))},registerUserRequest:function(t){return e(function(e){return{type:"REGISTER_USER_REQUEST",payload:e}}(t))}}}))(Object(W.a)({root:{margin:"20px"}})(re)),ce=n(179),oe=function(e){return{type:"CURRENCIES_UPDATE_REQUEST",payload:e}},ue=function(e){return{type:"CURRENCIES_UPDATE_SUCCESS",payload:e}},ie=function(e){return{type:"CURRENCIES_LOAD_FAIL",payload:e}},le=function(){return{type:"RESET_CURRENCIES"}},pe=function(e){return{type:"UPDATE_RATE_REQUEST",payload:e}},de=function(){return{type:"UPDATE_RATE_SUCCESS"}},he=function(e){return{type:"UPDATE_RATE_FAIL",payload:e}},me=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleToggle=function(){n.setState({open:!n.state.open})},n.handleChoise=function(e){e.isInTable=!e.isInTable,n.props.updateRateRequest(e),n.handleToggle()},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,s=t.loadedCurrencies,c=t.currencies;return r.a.createElement(a.Fragment,null,r.a.createElement(M.ToastContainer,null),s&&r.a.createElement(a.Fragment,null,r.a.createElement(Q.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return e.handleToggle()}},"add/delete"),r.a.createElement(ce.a,{id:"simple-menu",open:this.state.open,onClose:function(){return e.handleToggle()}},n.currenciesRates.map((function(t){return r.a.createElement(te.a,{key:t._id,onClick:function(){return e.handleChoise(t)}},t.currencyName)}))),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{rowSpan:"2"},"flag"),r.a.createElement("th",{rowSpan:"2"},"currency"),r.a.createElement("th",{rowSpan:"2"},"value"),r.a.createElement("th",{colSpan:"2",scope:"colgroup"},"cash"),r.a.createElement("th",{colSpan:"2",scope:"colgroup"},"transfer")),r.a.createElement("tr",null,r.a.createElement("th",null,"buy "),r.a.createElement("th",null,"sell "),r.a.createElement("th",null,"buy "),r.a.createElement("th",null,"sell "))),r.a.createElement("tbody",null,n.currenciesRates.map((function(e){return e.isInTable&&r.a.createElement("tr",{className:"col col-lg-4 grid-wrapper",key:e._id},r.a.createElement("td",null," "),r.a.createElement("td",null," ",e.currencyName),r.a.createElement("td",null," ",c[e.currencyName]),r.a.createElement("td",null," ",e.buyCashRate+c[e.currencyName]),r.a.createElement("td",null," ",e.sellCashRate+c[e.currencyName]),r.a.createElement("td",null," ",e.buyTransferRate+c[e.currencyName]),r.a.createElement("td",null," ",e.sellTransferRate+c[e.currencyName]))}))))))}}]),t}(a.Component),ge=Object(E.b)((function(e){return{loadedCurrencies:e.getCurrenciesReducer.loadedCurrencies,currencies:e.getCurrenciesReducer.currencies,LoggedIn:e.userReducer.LoggedIn,user:e.userReducer.user}}),(function(e){return{updateRateRequest:function(t){return e(pe(t))},currenciesUpdateRequest:function(t){return e(oe(t))}}}))(Object(W.a)((function(){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:100,marginRight:100,width:200},menu:{width:200}}}))(me)),Ee=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={openCalc:!1,openCur:!1,openRate:!1,currency:{currencyName:"",value:0,isInTable:!1},rateName:"",rateValue:0,manualRate:0,amount:0},n.open=function(e){switch(e){case"calculator":n.setState({openCalc:!n.state.openCalc});break;case"currency":n.setState({openCur:!n.state.openCur});break;case"rate":n.setState({openRate:!n.state.openRate})}},n.handleCurrencyChoise=function(e,t,a){var r=!1;a?r=!0:(n.props.user.currenciesRates.forEach((function(t){t.currencyName===e&&(r=!0)})),n.open("currency")),n.setState({amount:0,manualRate:0,currency:Object(g.a)({},n.state.currency,{currencyName:e,value:t,isInTable:r})})},n.handleRateChoise=function(e){var t=n.state.currency;n.props.user.currenciesRates.forEach((function(a){a.currencyName===t.currencyName&&n.setState({rateName:e,rateValue:a[e]})})),n.open("rate")},n.handleChange=function(e){var t=e.target;n.setState(Object(m.a)({},t.name,t.value))},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,s=t.currencies,c=t.user,o=this.state,u=o.openCalc,i=o.openCur,l=o.openRate,p=o.currency,d=o.amount,h=o.manualRate,m=o.rateName,g=o.rateValue;return r.a.createElement(a.Fragment,null,r.a.createElement(Q.a,{onClick:function(){return e.open("calculator")}},"Calculator"),u&&r.a.createElement(a.Fragment,null,r.a.createElement(Q.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return e.open("currency")}},p.currencyName||"currency"),r.a.createElement(ce.a,{id:"simple-menu",open:i,onClose:function(){return e.open("currency")}},Object.keys(s).map((function(t,n){return r.a.createElement(te.a,{key:n,onClick:function(){return e.handleCurrencyChoise(t,s[t],!1)}},t)}))),c.currenciesRates.map((function(t){return t.isInTable&&r.a.createElement(Q.a,{key:t._id,onClick:function(){return e.handleCurrencyChoise(t.currencyName,s[t.currencyName],!0)}},t.currencyName)})),p.currencyName&&r.a.createElement(a.Fragment,null,r.a.createElement("div",null,p.value||"0"),r.a.createElement(G.a,{className:n.textField,autoFocus:!0,name:"manualRate",label:"manual rate",type:"manualRate",value:h,onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement(G.a,{className:n.textField,autoFocus:!0,name:"amount",label:"amount",type:"amount",value:d,onChange:this.handleChange,fullWidth:!0,required:!0})),p.isInTable&&r.a.createElement(a.Fragment,null,r.a.createElement(Q.a,{"aria-controls":"simple-menu-2","aria-haspopup":"true",onClick:function(){return e.open("rate")}},m||"action"),r.a.createElement(ce.a,{id:"simple-menu-2",open:l,onClose:function(){return e.open("rate")}},r.a.createElement(te.a,{onClick:function(){return e.handleRateChoise("buyCashRate")}},"buy cash"),r.a.createElement(te.a,{onClick:function(){return e.handleRateChoise("sellCashRate")}},"sell cash"),r.a.createElement(te.a,{onClick:function(){return e.handleRateChoise("buyTransferRate")}},"buy by transfer"),r.a.createElement(te.a,{onClick:function(){return e.handleRateChoise("sellTransferRate")}},"sell by transfer"))),r.a.createElement("div",null,(Number(p.value)+g+Number(h))*d)))}}]),t}(a.Component),fe=Object(E.b)((function(e){return{user:e.userReducer.user,currencies:e.getCurrenciesReducer.currencies}}),null)(Object(W.a)((function(){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:100,marginRight:100,width:200},menu:{width:200}}}))(Ee)),Re=n(173),be=n.n(Re),ye=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(e){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?(n.props.logoutRequest(),n.props.history.push("/loginPage"),e.preventDefault()):(n.socket.close(),n.props.autoLogoutRequest(n.props.lex))},n.handleAdmin=function(){n.props.history.push("/adminPage")},n.handleUpdate=function(e){n.props.loadUpdateForm(e),n.props.history.push("/updatePage")},n.handleRates=function(){n.props.history.push("/rateManagement")},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===this.props.session?(this.props.userLoadRequest(),this.socket=be()("https://www.moneyexchangeco.com/socket.io"),this.socket.on("message",(function(e){oe(e)})),this.loadData()):this.props.autoLogoutRequest(this.props.lex)}},{key:"componentDidUpdate",value:function(){this.props.LoggedIn||(this.props.autoLogoutRequest(this.props.lex),this.props.history.push("/loginPage"))}},{key:"componentWillUnmount",value:function(){document.cookie.match("connect.sid")&&this.props.LoggedIn&&document.cookie.match("connect.sid").input===this.props.session&&this.socket.close()}},{key:"loadData",value:function(){var e=this;this.socket.on("message",(function(t){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===e.props.session?e.props.currenciesUpdateRequest(t):(e.socket.close(),e.props.autoLogoutRequest(e.props.lex))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,s=t.loadedUser;return r.a.createElement(a.Fragment,null,r.a.createElement(M.ToastContainer,null),s&&r.a.createElement(a.Fragment,null,r.a.createElement("div",null,n.name),r.a.createElement("div",null,n.email),r.a.createElement("div",null,"store name: ",n.storeName),r.a.createElement("div",null,"address: ",n.address),r.a.createElement("div",null,"licence num: ",n.licenceNumber),r.a.createElement(a.Fragment,null,r.a.createElement(Q.a,{onClick:function(){return e.handleUpdate(n)}},"user settings"),r.a.createElement(Q.a,{onClick:function(){return e.handleRates()}},"rate settings")),n.isAdmin&&r.a.createElement(te.a,{onClick:function(){return e.handleAdmin()}},"Admin managment"),r.a.createElement(ge,null),r.a.createElement(fe,null),r.a.createElement(Q.a,{onClick:function(t){return e.handleLogout(t)}},"logout")))}}]),t}(a.Component),ve=Object(E.b)((function(e){return{session:e.userReducer.session,lex:e.userReducer.lex,loadedUser:e.userReducer.loadedUser,LoggedIn:e.userReducer.LoggedIn,user:e.userReducer.user}}),(function(e){return{autoLogoutRequest:function(t){return e(F(t))},logoutRequest:function(){return e({type:y})},userLoadRequest:function(){return e(A())},loadUpdateForm:function(t){return e(ee(t))},currenciesUpdateRequest:function(t){return e(oe(t))}}}))(Object(W.a)((function(){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:100,marginRight:100,width:200},menu:{width:200}}}))(ye)),Oe=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement("div",null,"404 not found"))}}]),t}(a.Component),Se=Object(W.a)((function(){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:100,marginRight:100,width:200},menu:{width:200}}}))(Oe),Ce=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={user:{name:"",email:"",password:"",newPassword:"",storeName:"",address:"",licenceNumber:""},data:{changeName:!1,changeEmail:!1,changePassword:!1,changeStoreName:!1,changeAddress:!1,changeLicenceNumber:!1}},n.changeInput=function(e){n.setState({data:Object(g.a)({},n.state.data,Object(m.a)({},e,!n.state.data[e]))})},n.handleChange=function(e){var t=e.target;n.setState({user:Object(g.a)({},n.state.user,Object(m.a)({},t.name,t.value))})},n.submit=function(e){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?(n.props.updateUserRequest(n.state.user),e.preventDefault()):(n.props.autoLogoutRequest(n.props.lex),n.props.history.push("/loginPage"))},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){if(document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===this.props.session){this.props.loadedUpdateUser||this.props.history.push("/userPage");var e=this.props.desiredUser;e.password="",e.newPassword="",this.setState({user:e})}else this.props.autoLogoutRequest(this.props.lex),this.props.history.push("/loginPage")}},{key:"componentDidUpdate",value:function(){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===this.props.session&&(this.props.LoggedIn||(this.props.autoLogoutRequest(this.props.lex),this.props.history.push("/loginPage")),this.props.updateSuccess&&(this.props.resetUpdateUserProps(),this.props.history.push("/userPage")))}},{key:"renderInput",value:function(e){var t=this.props;return r.a.createElement(G.a,{className:t.textField,autoFocus:!0,name:e,label:e,type:"text",autoComplete:"off",value:this.state.user[e],onChange:this.handleChange,fullWidth:!0,required:!0})}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.data;return r.a.createElement(a.Fragment,null,r.a.createElement(M.ToastContainer,null),r.a.createElement("form",{className:t.container,onSubmit:this.submit.bind(this),autoComplete:"off"},r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(){return e.changeInput("changeName")}},"Change Name"),n.changeName&&this.renderInput("name")),r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(){return e.changeInput("changeEmail")}},"Change Email"),n.changeEmail&&this.renderInput("email")),r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(){return e.changeInput("changePassword")}},"Change Password"),n.changePassword&&r.a.createElement("div",null,r.a.createElement("div",null,this.renderInput("newPassword")))),r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(){return e.changeInput("changeStoreName")}},"Change store name"),n.changeStoreName&&this.renderInput("storeName")),r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(){return e.changeInput("changeAddress")}},"Change Address"),n.changeAddress&&this.renderInput("address")),r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(){return e.changeInput("changeLicenceNumber")}},"Change licence number"),n.changeLicenceNumber&&this.renderInput("licenceNumber")),r.a.createElement("span",null,"confirm changes :"),r.a.createElement("div",null,this.renderInput("password")),r.a.createElement(Q.a,{type:"submit",color:"primary",variant:"outlined"},"Update"),r.a.createElement(Q.a,{type:"button",color:"primary",variant:"outlined",onClick:function(){e.props.resetUpdateUserProps(),e.props.history.push("/userPage")}},"Cancel")))}}]),t}(a.Component),Ue=Object(E.b)((function(e){return{session:e.userReducer.session,lex:e.userReducer.lex,LoggedIn:e.userReducer.LoggedIn,desiredUser:e.updateUserReducer.desiredUser,updateSuccess:e.updateUserReducer.updateSuccess,loadedUpdateUser:e.updateUserReducer.loadedUpdateUser}}),(function(e){return{autoLogoutRequest:function(t){return e(F(t))},updateUserRequest:function(t){return e(function(e){return{type:"UPDATE_USER_REQUEST",payload:e}}(t))},resetUpdateUserProps:function(){return e({type:"RESET_UPDATE_USER_PROPS"})}}}))(Object(W.a)({root:{margin:"20px"}})(Ce)),je=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={rate:{currencyName:"",currencyValue:0,buyCashRate:0,sellCashRate:0,buyTransferRate:0,sellTransferRate:0,isInTable:!1},data:{changeBuyCashRate:!1,changeSellCashRate:!1,changeBuyTransferRate:!1,changeSellTransferRate:!1}},n.changeInput=function(e){n.setState({data:Object(g.a)({},n.state.data,Object(m.a)({},e,!n.state.data[e]))})},n.handleChange=function(e){var t=e.target;n.setState({rate:Object(g.a)({},n.state.rate,Object(m.a)({},t.name,t.value))})},n.submit=function(e){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?(n.props.updateRateRequest(n.state.rate),e.preventDefault()):n.props.autoLogoutRequest(n.props.lex)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){if(document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===this.props.session){this.props.userLoadRequest(),this.props.loadedUpdateRate||this.props.history.push("/rateManagement");var e=this.props.desiredRate;e.currencyValue=this.props.currencies[this.props.desiredRate.currencyName],this.setState({rate:e})}else this.props.autoLogoutRequest(this.props.lex)}},{key:"componentDidUpdate",value:function(){this.props.LoggedIn||(this.props.autoLogoutRequest(this.props.lex),this.props.history.push("/loginPage")),this.props.updateRateSuccess&&this.props.history.push("/rateManagement")}},{key:"renderInput",value:function(e){var t=this.props;return r.a.createElement(G.a,{className:t.textField,autoFocus:!0,name:e,label:e,type:e,value:this.state.rate[e],onChange:this.handleChange,fullWidth:!0,required:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,s=t.currencies,c=this.state,o=c.data,u=c.rate;return r.a.createElement(a.Fragment,null,r.a.createElement(M.ToastContainer,null),r.a.createElement("div",null,u.currencyName),r.a.createElement("div",null,s[u.currencyName]),r.a.createElement("form",{className:n.container,onSubmit:this.submit.bind(this),autoComplete:"off"},r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(){return e.changeInput("changeBuyCashRate")}},"change BuyCashRate"),o.changeBuyCashRate&&this.renderInput("buyCashRate")),r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(){return e.changeInput("changeSellCashRate")}},"change SellCashRate"),o.changeSellCashRate&&r.a.createElement("div",null,r.a.createElement("div",null,this.renderInput("sellCashRate")))),r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(){return e.changeInput("changeBuyTransferRate")}},"change BuyTransferRate"),o.changeBuyTransferRate&&this.renderInput("buyTransferRate")),r.a.createElement("div",null,r.a.createElement(Q.a,{onClick:function(){return e.changeInput("changeSellTransferRate")}},"change SellTransferRate"),o.changeSellTransferRate&&this.renderInput("sellTransferRate")),r.a.createElement(Q.a,{type:"submit",color:"primary",variant:"outlined"},"Update"),r.a.createElement(Q.a,{type:"button",color:"primary",variant:"outlined",onClick:function(){e.props.history.push("/rateManagement")}},"Cancel")))}}]),t}(a.Component),_e=Object(E.b)((function(e){return{session:e.userReducer.session,lex:e.userReducer.lex,LoggedIn:e.userReducer.LoggedIn,desiredRate:e.updateRateReducer.desiredRate,loadedUpdateRate:e.updateRateReducer.loadedUpdateRate,updateRateSuccess:e.updateRateReducer.updateRateSuccess,currencies:e.getCurrenciesReducer.currencies}}),(function(e){return{autoLogoutRequest:function(t){return e(F(t))},userLoadRequest:function(){return e(A())},updateRateRequest:function(t){return e(pe(t))}}}))(Object(W.a)({root:{margin:"20px"}})(je)),Le=function(){return{type:"ADD_RATE_SUCCESS"}},Te=function(){return{type:"ADD_RATE_FAIL"}},ke=function(){return{type:"DELETE_RATE_SUCCESS"}},xe=function(e){return{type:"DELETE_RATE_FAIL",payload:e}},Ie=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleAddRate=function(){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?(n.props.loadAddRateForm(),n.props.history.push("/addRatePage")):n.props.autoLogoutRequest(n.props.lex)},n.handleUpdateRate=function(e){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?(n.props.loadUpdateRateForm(e),n.props.history.push("/updateRate")):n.props.autoLogoutRequest(n.props.lex)},n.handleRateDelete=function(e){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?n.props.deleteRateRequest(e):n.props.autoLogoutRequest(n.props.lex)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===this.props.session?this.props.userLoadRequest():this.props.autoLogoutRequest(this.props.lex)}},{key:"componentDidUpdate",value:function(){this.props.LoggedIn||(this.props.autoLogoutRequest(this.props.lex),this.props.history.push("/loginPage")),this.props.deleteRateSuccess&&(this.props.userLoadRequest(),this.props.setDeleteRateProps())}},{key:"render",value:function(){var e=this,t=this.props,n=t.loadedUser,s=t.user,c=t.currencies;return r.a.createElement(a.Fragment,null,r.a.createElement(M.ToastContainer,null),n&&r.a.createElement(a.Fragment,null,r.a.createElement(te.a,{component:o.b,to:"/userPage"},"return to user page"),r.a.createElement(Q.a,{onClick:this.handleAddRate},"add rate"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{rowSpan:"2"},"currency"),r.a.createElement("th",{rowSpan:"2"},"value"),r.a.createElement("th",{colSpan:"2",scope:"colgroup"},"cash"),r.a.createElement("th",{colSpan:"2",scope:"colgroup"},"transfer")),r.a.createElement("tr",null,r.a.createElement("th",null,"buy "),r.a.createElement("th",null,"sell "),r.a.createElement("th",null,"buy "),r.a.createElement("th",null,"sell "))),r.a.createElement("tbody",null,s.currenciesRates.map((function(t){return r.a.createElement("tr",{className:"col col-lg-4 grid-wrapper",key:t._id},r.a.createElement("td",null," ",t.currencyName),r.a.createElement("td",null," ",c[t.currencyName]),r.a.createElement("td",null," ",t.buyCashRate),r.a.createElement("td",null," ",t.sellCashRate),r.a.createElement("td",null," ",t.buyTransferRate),r.a.createElement("td",null," ",t.sellTransferRate),r.a.createElement("td",null,r.a.createElement(Q.a,{onClick:function(){return e.handleRateDelete(t.currencyName)}},"delete")),r.a.createElement("td",null,r.a.createElement(Q.a,{onClick:function(){return e.handleUpdateRate(t)}},"update")))}))))))}}]),t}(a.Component),we=Object(E.b)((function(e){return{session:e.userReducer.session,lex:e.userReducer.lex,user:e.userReducer.user,loadedUser:e.userReducer.loadedUser,LoggedIn:e.userReducer.LoggedIn,deleteRateSuccess:e.deleteRateReducer.deleteRateSuccess,currencies:e.getCurrenciesReducer.currencies}}),(function(e){return{autoLogoutRequest:function(t){return e(F(t))},userLoadRequest:function(){return e(A())},loadUpdateRateForm:function(t){return e(function(e){return{type:"LOAD_UPDATE_RATE_FORM",payload:{rate:e}}}(t))},loadAddRateForm:function(){return e({type:"LOAD_ADD_RATE_FORM"})},deleteRateRequest:function(t){return e(function(e){return{type:"DELETE_RATE_REQUEST",payload:e}}(t))},setDeleteRateProps:function(){return e({type:"SET_DELETE_RATE_PROPS"})}}}))(Object(W.a)((function(){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:100,marginRight:100,width:200},menu:{width:200}}}))(Ie)),Ae=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,rate:{rateName:"",rateValue:0,buyCashRate:"",sellCashRate:"",buyTransferRate:"",sellTransferRate:"",isInTable:!1}},n.handleChange=function(e){var t=e.target;n.setState({rate:Object(g.a)({},n.state.rate,Object(m.a)({},t.name,t.value))})},n.submit=function(e){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===n.props.session?""===n.state.rate.rateName?(Object(M.toast)("please select currency type"),e.preventDefault()):(n.props.addRateRequest(n.state.rate),e.preventDefault()):n.props.autoLogoutRequest(n.props.lex)},n.handleToggle=function(){n.setState({open:!n.state.open})},n.handleChoise=function(e,t){n.setState({rate:Object(g.a)({},n.state.rate,{rateName:e,rateValue:t}),open:!n.state.open})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.cookie.match("connect.sid")&&document.cookie.match("connect.sid").input===this.props.session?this.props.userLoadRequest():this.props.autoLogoutRequest(this.props.lex)}},{key:"componentDidUpdate",value:function(){this.props.LoggedIn||(this.props.autoLogoutRequest(this.props.lex),this.props.history.push("/loginPage")),this.props.addRateSuccess&&this.props.history.push("/rateManagement")}},{key:"renderInput",value:function(e){var t=this.props;return r.a.createElement(G.a,{className:t.textField,autoFocus:!0,name:e,label:e,type:"text",autoComplete:"off",value:this.state.rate[e],onChange:this.handleChange,fullWidth:!0,required:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,s=t.currencies,c=t.LoggedIn;return r.a.createElement(a.Fragment,null,c&&r.a.createElement(a.Fragment,null,r.a.createElement(M.ToastContainer,null),r.a.createElement("form",{className:n.container,onSubmit:this.submit.bind(this)},r.a.createElement("div",null,"currency :",r.a.createElement(Q.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleToggle},this.state.rate.rateName||"select currency"),r.a.createElement(ce.a,{id:"simple-menu",open:this.state.open,onClose:this.handleToggle},Object.keys(s).map((function(t,n){return r.a.createElement(te.a,{key:n,onClick:function(){return e.handleChoise(t,s[t])}},t)})))),r.a.createElement("div",null,"value: ",this.state.rate.rateValue),this.renderInput("buyCashRate"),this.renderInput("sellCashRate"),this.renderInput("buyTransferRate"),this.renderInput("sellTransferRate"),r.a.createElement(Q.a,{type:"submit",color:"primary",variant:"outlined"},"Add"),r.a.createElement(Q.a,{type:"button",color:"primary",variant:"outlined",onClick:function(){e.props.history.push("/rateManagement")}},"Cancel"))))}}]),t}(a.Component),De=Object(E.b)((function(e){return{session:e.userReducer.session,lex:e.userReducer.lex,LoggedIn:e.userReducer.LoggedIn,currencies:e.getCurrenciesReducer.currencies,addRateSuccess:e.addRateReducer.addRateSuccess}}),(function(e){return{autoLogoutRequest:function(t){return e(F(t))},userLoadRequest:function(){return e(A())},addRateRequest:function(t){return e(function(e){return{type:"ADD_RATE_REQUEST",payload:e}}(t))}}}))(Object(W.a)({root:{margin:"20px"}})(Ae)),Pe=function(){return{type:"FORGOT_PASSWORD_SUCCESS"}},Ne=function(e){return{type:"FORGOT_PASSWORD_FAIL",payload:e}},Fe=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:""}},n.handleChange=function(e){var t=e.target;n.setState({data:Object(g.a)({},n.state.data,Object(m.a)({},t.name,t.value))})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"submit",value:function(e){e.preventDefault();var t=this.state.data;this.props.forgotPasswordRequest(t.email),this.props.history.push("/loginPage")}},{key:"renderInput",value:function(e){var t=this.props;return r.a.createElement(G.a,{className:t.textField,autoFocus:!0,name:e,label:e,type:"text",autoComplete:"off",value:this.state.data[e],onChange:this.handleChange,required:!0})}},{key:"render",value:function(){var e=this,t=this.props;return r.a.createElement(a.Fragment,null,r.a.createElement("form",{className:t.container,onSubmit:this.submit.bind(this)},r.a.createElement("div",null,this.renderInput("email")),r.a.createElement(Q.a,{type:"submit",variant:"outlined"},"reset password")),r.a.createElement(Q.a,{variant:"outlined",onClick:function(){e.props.history.push("/loginPage")}},"cancel"))}}]),t}(a.Component),qe=Object(E.b)((function(e){return{LoggedIn:e.userReducer.LoggedIn}}),(function(e){return{forgotPasswordRequest:function(t){return e(function(e){return{type:"FORGOT_PASSWORD_REQUEST",payload:e}}(t))}}}))(Object(W.a)((function(){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:100,marginRight:100,width:200},menu:{width:200}}}))(Fe)),Ge=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.checkLoggedIn()}},{key:"handleLoggedIn",value:function(){return this.props.LoggedIn?r.a.createElement(h.a,{to:"/userPage"}):r.a.createElement(h.a,{to:"/loginPage"})}},{key:"render",value:function(){var e=this,t=this.props.LoggedInRequest;return r.a.createElement(a.Fragment,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/adminPage",component:ae}),r.a.createElement(h.b,{path:"/registerPage",component:se}),r.a.createElement(h.b,{path:"/forgotPasswordPage",component:qe}),r.a.createElement(h.b,{path:"/userPage",component:ve}),r.a.createElement(h.b,{path:"/addRatePage",component:De}),r.a.createElement(h.b,{path:"/rateManagement",component:we}),r.a.createElement(h.b,{path:"/updatePage",component:Ue}),r.a.createElement(h.b,{path:"/updateRate",component:_e}),r.a.createElement(h.b,{path:"/loginPage",component:B}),r.a.createElement(h.b,{path:"/notFound",component:Se}),t&&r.a.createElement(h.b,{exact:!0,path:"/",render:function(){return e.handleLoggedIn()}}),t&&r.a.createElement(h.b,{path:"*",render:function(){return r.a.createElement(h.a,{to:"/notFound"})}})))}}]),t}(a.Component),Qe=Object(E.b)((function(e){return{user:e.userReducer.user,LoggedIn:e.userReducer.LoggedIn,LoggedInRequest:e.userReducer.LoggedInRequest}}),(function(e){return{checkLoggedIn:function(){return e({type:_})}}}))(Ge),We=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Me(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ve=n(25),Be=n(180),Ke={currencies:{},loadedCurrencies:!1},He={addRateSuccess:!1},Je={deleteRateSuccess:!1},$e={desiredRate:{},loadedUpdateRate:!1,updateRateSuccess:!1},ze=n(84),Xe=n.n(ze),Ye=n(64),Ze={session:"",lex:"",user:{},loadLogin:!1,loadedUser:!1,LoggedIn:!1,LoggedInRequest:!1,initialLogin:!1};var et={key:"lex",storage:Xe.a,blacklist:["user","loadLogin","loadedUser","LoggedIn","LoggedInRequest","initialLogin"]},tt=Object(Ye.persistReducer)(et,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(g.a)({},e,{loadLogin:!1,LoggedInRequest:!1});case L:return!0===t.payload?Object(g.a)({},e,{loadLogin:!1,LoggedInRequest:!0,LoggedIn:!0}):Object(g.a)({},e,{loadLogin:!0,LoggedInRequest:!0,LoggedIn:!1});case T:return Object(g.a)({},e,{loadLogin:!0,LoggedInRequest:!0,LoggedIn:!1});case f:return{loadLogin:!0};case R:return Object(g.a)({},e,{session:document.cookie.match("connect.sid").input,loadLogin:!1,LoggedIn:!0});case b:return Object(g.a)({},e,{loadLogin:!0,LoggedIn:!1});case y:return{};case v:return Object(g.a)({},e,{lex:"",session:"",loadLogin:!0,LoggedIn:!1,loadedUser:!1,user:{}});case O:return{};case S:return Object(g.a)({},e,{lex:"",session:"",loadLogin:!0,LoggedIn:!1,loadedUser:!1,user:{}});case U:return Object(g.a)({},e,{LoggedIn:!0,loadedUser:!1});case j:return Object(g.a)({},e,{LoggedIn:!0,loadedUser:!0,lex:t.payload._id,user:Object(g.a)({},t.payload)});case C:return Object(M.toast)("failed to load user"),Object(g.a)({},e,{session:"",loadedUser:!1,LoggedIn:!1});default:return e}})),nt={},at={registerUserSuccess:!1},rt=n(181),st={checkIfAdmin:!1,isAdmin:!1,users:[]},ct={deleteUserSuccess:!1},ot={desiredUser:{},loadedUpdateUser:!1,updateSuccess:!1},ut=Object(Ve.combineReducers)({deleteRateReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DELETE_RATE_PROPS":case"DELETE_RATE_REQUEST":return Object(g.a)({},e,{deleteRateSuccess:!1});case"DELETE_RATE_SUCCESS":return Object(g.a)({},e,{deleteRateSuccess:!0});case"DELETE_RATE_FAIL":return Object(M.toast)("failed to delete rate"),Object(g.a)({},e,{deleteRateSuccess:!1});default:return e}},updateRateReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_UPDATE_RATE_FORM":return Object(g.a)({},e,{loadedUpdateRate:!0,updateRateSuccess:!1,desiredRate:t.payload.rate});case"UPDATE_RATE_REQUEST":return Object(g.a)({},e,{updateRateSuccess:!1,loadedUpdateRate:!1});case"UPDATE_RATE_SUCCESS":return Object(g.a)({},e,{updateRateSuccess:!0,loadedUpdateRate:!1});case"UPDATE_RATE_FAIL":return Object(M.toast)("failed to update rate"),Object(g.a)({},e,{updateRateSuccess:!1,loadedUpdateRate:!1});default:return e}},getCurrenciesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENCIES_UPDATE_REQUEST":return Object(g.a)({},e,{loadedCurrencies:!0});case"CURRENCIES_UPDATE_SUCCESS":return Object(g.a)({},e,{loadedCurrencies:!0,currencies:Object(g.a)({},t.payload)});case"CURRENCIES_LOAD_FAIL":return Object(M.toast)("failed to upload currencies"),Object(g.a)({},e,{currencies:{},loadedCurrencies:!1});case"RESET_CURRENCIES":return Object(g.a)({},e,{currencies:{},loadedCurrencies:!1});default:return e}},addRateReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ADD_RATE_FORM":case"ADD_RATE_REQUEST":return Object(g.a)({},e,{addRateSuccess:!1});case"ADD_RATE_SUCCESS":return Object(g.a)({},e,{addRateSuccess:!0});case"ADD_RATE_FAIL":return Object(M.toast)("failed to add rate"),Object(g.a)({},e,{addRateSuccess:!1});default:return e}},userReducer:tt,registerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_REGISTER_FORM":case"REGISTER_USER_REQUEST":return Object(g.a)({},e,{registerUserSuccess:!1});case"REGISTER_USER_SUCCESS":return Object(g.a)({},e,{registerUserSuccess:!0});case"REGISTER_USER_FAIL":return Object(M.toast)("failed to register user"),Object(g.a)({},e,{registerUserSuccess:!1});default:return e}},getUsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS_REQUEST":return Object(g.a)({},e,{users:[],checkIfAdmin:!1,isAdmin:!1});case"GET_USERS_SUCCESS":return Object(g.a)({},e,{users:Object(rt.a)(t.payload),checkIfAdmin:!0,isAdmin:!0});case"GET_USERS_FAIL":return Object(M.toast)("failed to upload users"),Object(g.a)({},e,{users:[],checkIfAdmin:!1,isAdmin:!1});default:return e}},deleteUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DELETE_PROPS":case"DELETE_USER_REQUEST":return Object(g.a)({},e,{deleteUserSuccess:!1});case"DELETE_USER_SUCCESS":return Object(g.a)({},e,{deleteUserSuccess:!0});case"DELETE_USER_FAIL":return Object(M.toast)("failed to delete user"),Object(g.a)({},e,{deleteUserSuccess:!1});default:return e}},updateUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_UPDATE_FORM":return Object(g.a)({},e,{loadedUpdateUser:!0,desiredUser:t.payload.user});case"UPDATE_USER_REQUEST":return Object(g.a)({},e,{updateSuccess:!1});case"UPDATE_USER_SUCCESS":return Object(g.a)({},e,{updateSuccess:!0,loadedUpdateUser:!1});case"UPDATE_USER_FAIL":return Object(M.toast)("failed to update user"),Object(g.a)({},e,{updateSuccess:!1,loadedUpdateUser:!1});case"RESET_UPDATE_USER_PROPS":return Object(g.a)({},e,{desiredUser:{},updateSuccess:!1,loadedUpdateUser:!1});default:return e}},forgotPasswordReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT_PASSWORD_REQUEST":case"FORGOT_PASSWORD_SUCCESS":case"FORGOT_PASSWORD_FAIL":return{};default:return e}}}),it=n(12),lt=n.n(it),pt=n(5),dt=n(52),ht=n.n(dt);ht.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,ht.a.interceptors.response.use(null,(function(e){var t=e.response&&e.response.status>=400&&404!==e.response.status&&e.response.status<501;return t||Object(M.toast)("an unexpected error occurred"),t&&Object(M.toast)(e.response.data),e.response||(e="network error"),Promise.reject(e)}));var mt={get:ht.a.get,post:ht.a.post,put:ht.a.put,delete:ht.a.delete},gt="";function Et(e){var t=gt+"/api/currencies/addRate";return mt.post(t,{currencyName:e.rateName,currencyValue:e.rateValue,buyCashRate:e.buyCashRate,sellCashRate:e.sellCashRate,buyTransferRate:e.buyTransferRate,sellTransferRate:e.sellTransferRate},{withCredentials:!0})}function ft(e){var t=gt+"/api/currencies/deleteRate";return mt.post(t,{rateName:e},{withCredentials:!0})}function Rt(e){var t=gt+"/api/currencies/updateRate";return mt.post(t,{currencyName:e.currencyName,currencyValue:e.currencyValue,buyCashRate:e.buyCashRate,sellCashRate:e.sellCashRate,buyTransferRate:e.buyTransferRate,sellTransferRate:e.sellTransferRate,isInTable:e.isInTable},{withCredentials:!0})}var bt=lt.a.mark(St),yt=lt.a.mark(Ct),vt=lt.a.mark(Ut),Ot=lt.a.mark(jt);function St(e){var t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(pt.b)(ue(t));case 4:n.next=10;break;case 6:return n.prev=6,n.t0=n.catch(1),n.next=10,Object(pt.b)(ie(n.t0));case 10:case"end":return n.stop()}}),bt,null,[[1,6]])}function Ct(e){var t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(pt.a)(Et,t);case 4:return n.next=6,Object(pt.b)(Le());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(pt.b)(Te(n.t0));case 12:case"end":return n.stop()}}),yt,null,[[1,8]])}function Ut(e){var t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(pt.a)(ft,t);case 4:return n.next=6,Object(pt.b)(ke());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(pt.b)(xe(n.t0));case 12:case"end":return n.stop()}}),vt,null,[[1,8]])}function jt(e){var t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(pt.a)(Rt,t);case 4:return n.next=6,Object(pt.b)(de());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(pt.b)(he(n.t0));case 12:case"end":return n.stop()}}),Ot,null,[[1,8]])}var _t=n(174),Lt=n.n(_t),Tt="";function kt(e){var t,n;return lt.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,lt.a.awrap(Lt.a.v4());case 2:return t=a.sent,n=Tt+"/api/login",a.abrupt("return",mt.post(n,{email:e.email,password:e.password,userIp:t},{withCredentials:!0}));case 5:case"end":return a.stop()}}))}function xt(){var e=Tt+"/api/userPage/me";return mt.get(e,{withCredentials:!0})}function It(e){var t=Tt+"/api/autoLogout";return mt.post(t,{email:e}),"done"}function wt(){var e=Tt+"/api/autoLogin";return mt.get(e,{withCredentials:!0})}function At(){var e=Tt+"/api/logout";return mt.get(e,{withCredentials:!0})}function Dt(e){var t=Tt+"/api/userPage";return mt.post(t,{name:e.name,email:e.email,password:e.password,storeName:e.storeName,address:e.address,licenceNumber:e.licenceNumber,ip:e.ipAdrress},{withCredentials:!0})}function Pt(){var e=Tt+"/api/userPage";return mt.get(e,{withCredentials:!0})}function Nt(e){var t=Tt+"/api/userPage/"+e;return mt.delete(t,{withCredentials:!0})}function Ft(e){var t=Tt+"/api/userPage/updateUser";return mt.put(t,{_id:e._id,name:e.name,email:e.email,password:e.password,newPassword:e.newPassword,storeName:e.storeName,address:e.address,licenceNumber:e.licenceNumber},{withCredentials:!0})}function qt(e){var t=Tt+"/api/forgotPassword";return mt.post(t,{email:e},{withCredentials:!0})}var Gt=lt.a.mark(Kt),Qt=lt.a.mark(Ht),Wt=lt.a.mark(Jt),Mt=lt.a.mark($t),Vt=lt.a.mark(zt),Bt=lt.a.mark(Xt);function Kt(e){var t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(pt.a)(kt,t);case 4:return n.next=6,Object(pt.b)(I());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(pt.b)(w(n.t0));case 12:case"end":return n.stop()}}),Gt,null,[[1,8]])}function Ht(){return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(pt.a)(At);case 3:return e.next=5,Object(pt.b)(N());case 5:return e.next=7,Object(pt.b)(le());case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),Qt,null,[[0,9]])}function Jt(){var e,t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(pt.a)(xt);case 3:return e=n.sent,t=e.data,n.next=7,Object(pt.b)(D(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(pt.b)(P(n.t0));case 13:case"end":return n.stop()}}),Wt,null,[[0,9]])}function $t(){var e,t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(pt.a)(wt);case 3:return e=n.sent,t=e.data,n.next=7,Object(pt.b)(k(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(pt.b)(x(n.t0));case 13:case"end":return n.stop()}}),Mt,null,[[0,9]])}function zt(e){var t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(pt.a)(It,t);case 4:return n.next=6,Object(pt.b)(q());case 6:return n.next=8,Object(pt.b)(le());case 8:n.next=12;break;case 10:n.prev=10,n.t0=n.catch(1);case 12:case"end":return n.stop()}}),Vt,null,[[1,10]])}function Xt(e){var t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(pt.a)(qt,t);case 4:return n.next=6,Object(pt.b)(Pe());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(pt.b)(Ne(n.t0));case 12:case"end":return n.stop()}}),Bt,null,[[1,8]])}var Yt=lt.a.mark(nn),Zt=lt.a.mark(an),en=lt.a.mark(rn),tn=lt.a.mark(sn);function nn(e){var t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(pt.a)(Dt,t);case 4:return n.next=6,Object(pt.b)(z());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(pt.b)(X(n.t0));case 12:case"end":return n.stop()}}),Yt,null,[[1,8]])}function an(){var e,t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(pt.a)(Pt);case 3:return e=n.sent,t=e.data,n.next=7,Object(pt.b)(K(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(pt.b)(H(n.t0));case 13:case"end":return n.stop()}}),Zt,null,[[0,9]])}function rn(e){var t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(pt.a)(Nt,t);case 4:return n.next=6,Object(pt.b)(J());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(pt.b)($(n.t0));case 12:case"end":return n.stop()}}),en,null,[[1,8]])}function sn(e){var t;return lt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(pt.a)(Ft,t);case 4:return n.next=6,Object(pt.b)(Y());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(pt.b)(Z(n.t0));case 12:case"end":return n.stop()}}),tn,null,[[1,8]])}var cn=lt.a.mark(on);function on(){return lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pt.c)("USER_LOGIN_REQUEST",Kt);case 2:return e.next=4,Object(pt.c)("REGISTER_USER_REQUEST",nn);case 4:return e.next=6,Object(pt.c)("GET_USERS_REQUEST",an);case 6:return e.next=8,Object(pt.c)("DELETE_USER_REQUEST",rn);case 8:return e.next=10,Object(pt.c)("UPDATE_USER_REQUEST",sn);case 10:return e.next=12,Object(pt.c)("USER_LOGOUT_REQUEST",Ht);case 12:return e.next=14,Object(pt.c)("AUTO_LOGOUT_REQUEST",zt);case 14:return e.next=16,Object(pt.c)("USER_LOAD_REQUEST",Jt);case 16:return e.next=18,Object(pt.c)("CHECK_LOGGED_IN",$t);case 18:return e.next=20,Object(pt.c)("FORGOT_PASSWORD_REQUEST",Xt);case 20:return e.next=22,Object(pt.c)("CURRENCIES_UPDATE_REQUEST",St);case 22:return e.next=24,Object(pt.c)("ADD_RATE_REQUEST",Ct);case 24:return e.next=26,Object(pt.c)("DELETE_RATE_REQUEST",Ut);case 26:return e.next=28,Object(pt.c)("UPDATE_RATE_REQUEST",jt);case 28:case"end":return e.stop()}}),cn)}var un=on,ln=n(175),pn=n(176),dn=n.n(pn),hn=function(){var e=Object(Be.a)(),t=dn()({secretKey:"omg-this-is-some-secret-stuff"}),n={key:"root",storage:Xe.a,whitelist:["getCurrenciesReducer"],transforms:[t]},a=Object(Ye.persistReducer)(n,ut),r=Object(ln.composeWithDevTools)({realtime:!0,name:"money exchange",hostname:"https://www.moneyexchangeco.com/",port:3e3}),s=Object(Ve.createStore)(a,r(Object(Ve.applyMiddleware)(e)));return e.run(un),{store:s,persistor:Object(Ye.persistStore)(s)}},mn=n(177),gn=n.n(mn),En=n(178),fn=hn(),Rn=fn.persistor,bn=fn.store;c.a.render(r.a.createElement(E.a,{store:bn},r.a.createElement(En.a,{loading:r.a.createElement("div",null,"loading..."),persistor:Rn},r.a.createElement(o.a,null,r.a.createElement(gn.a,null,r.a.createElement(Qe,null))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");We?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Me(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Me(t,e)}))}}()}},[[187,1,2]]]);
//# sourceMappingURL=main.f0e4d177.chunk.js.map